The document of Python Scrapy is already confusing (alhthough it looks organized), its Pipeline looks more difficult to figure out how to use.
In this Readme, I will write down each details for what I have tried with Scrapy Pipeline and succeeded.
The code here is written in Python 3.52
In this practice, Scrapy crawls the urls from 1 simgle url, and I just chose 1 of these crawled urls, extract article data and commnets data for this single article, and insert the output into article output and comment output, seperately.


1. In your Python coding IDE (I use PyCharm), create a new project, in my case I named it as <b>HanhanScrapt</b>
2. Under folder `Scrapt`, create these folders: `output`, `source` and `resources`. Like what I did here: https://github.com/hanhanwu/Hanhan_NLP/tree/master/HanhanScrapt
3. In my case output folder stores those output generated by the code. resources folder stores those input I need for the code. All the core code are in source folder.
4. After several tests, I have realized Scrapy Pipeline will be executed after running the spider.
5. Here is the Spider code, you may need an __init__.py in this folder: https://github.com/hanhanwu/Hanhan_NLP/tree/master/HanhanScrapt/source/ScrapeNews/spiders
6. In the Spider, it reads the input url, crawls all the relative url appeared in this webpage. For me, I just chose 1 of these generated urls for testing purpose. Then the comments of this article will be extracted too. There are 2 `yield` in this code, all these yield data will be sent to Pipeline for preprocessing in function `process_item`
7. Here is the Pipeline code, the name of the functions are fixed: https://github.com/hanhanwu/Hanhan_NLP/blob/master/HanhanScrapt/source/ScrapeNews/my_pipelines.py
8. After creating the Pipeline code, we have to change the settings, just pay attention to those uncommented code: https://github.com/hanhanwu/Hanhan_NLP/blob/master/HanhanScrapt/source/ScrapeNews/settings.py
9. This .sh file are the command line for running the code, I have to admit, because of this, it makes Scrapy more difficult to use for beginners: https://github.com/hanhanwu/Hanhan_NLP/blob/master/HanhanScrapt/source/run_news_scraper.sh
10. Open your Python Terminal, `cd` to `HanhanScrapt/source/`, then execute this command: `sh run_news_scraper.sh`, so that your code can be run. At least it worked for me.
11. <b>The most important</b>, is the code structure is better to follow what I am using here: https://github.com/hanhanwu/Hanhan_NLP/tree/master/HanhanScrapt
